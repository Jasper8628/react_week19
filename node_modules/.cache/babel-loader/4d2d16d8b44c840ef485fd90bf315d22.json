{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\msava\\\\Desktop\\\\homework\\\\react_week19\\\\homework\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\msava\\\\Desktop\\\\homework\\\\react_week19\\\\homework\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\msava\\\\Desktop\\\\homework\\\\react_week19\\\\homework\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\msava\\\\Desktop\\\\homework\\\\react_week19\\\\homework\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import ResultList from\"./ResultList\";import SearchForm from\"./SearchForm\";import API from\"../utils/API\";var SearchResultContainer=/*#__PURE__*/function(_Component){_inherits(SearchResultContainer,_Component);var _super=_createSuper(SearchResultContainer);function SearchResultContainer(){var _this;_classCallCheck(this,SearchResultContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:\"\",results:[],filter:[],sort:\"asc\"};_this.ApiCall=function(){API.search().then(function(res){return _this.setState({results:res.data.results,filter:res.data.results});}).catch(function(err){return console.log(err);});};_this.handleInputChange=function(event){var name=event.target.name;var value=event.target.value;switch(name){case\"first\":_this.setState({search:value,filter:_this.state.results.filter(function(result){return result.name.first.toLowerCase().indexOf(value)!=-1;})});break;case\"last\":_this.setState({search:value,filter:_this.state.results.filter(function(result){return result.name.last.toLowerCase().indexOf(value)!=-1;})});break;}console.log(name);};_this.handleFormSubmit=function(event){event.preventDefault();_this.ApiCall();};_this.handleSort=function(event){function compareAsc(a,b){if(a.dob.age>b.dob.age)return 1;if(b.dob.age>a.dob.age)return-1;}function compareDesc(a,b){if(a.dob.age>b.dob.age)return-1;if(b.dob.age>a.dob.age)return 1;}if(_this.state.sort===\"asc\"){_this.setState({filter:_this.state.results.sort(compareAsc),sort:\"desc\"});}else{_this.setState({filter:_this.state.results.sort(compareDesc),sort:\"asc\"});}};return _this;}_createClass(SearchResultContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.ApiCall();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SearchForm//search = {this.state.search}\n//handleFormSubmit = {this.handleFormSubmit}\n,{handleInputChange:this.handleInputChange}),/*#__PURE__*/React.createElement(ResultList,{buttName:this.state.sort,results:this.state.filter,handleSort:this.handleSort}));}}]);return SearchResultContainer;}(Component);export default SearchResultContainer;","map":{"version":3,"sources":["C:/Users/msava/desktop/homework/react_week19/homework/src/components/SearchResultContainer.js"],"names":["React","Component","ResultList","SearchForm","API","SearchResultContainer","state","search","results","filter","sort","ApiCall","then","res","setState","data","catch","err","console","log","handleInputChange","event","name","target","value","result","first","toLowerCase","indexOf","last","handleFormSubmit","preventDefault","handleSort","compareAsc","a","b","dob","age","compareDesc"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ResultList from \"./ResultList\";\nimport SearchForm from \"./SearchForm\";\nimport API from \"../utils/API\";\n\nclass SearchResultContainer extends Component {\n    state = {\n        search: \"\",\n        results: [],\n        filter: [],\n        sort: \"asc\"\n    }\n\n    componentDidMount() {\n        this.ApiCall();\n    }\n\n    ApiCall = () => {\n        API.search()\n            .then(res => this.setState({\n                results: res.data.results,\n                filter: res.data.results\n            })\n            )\n            .catch(err => console.log(err));\n    };\n\n    handleInputChange = event => {\n        const name = event.target.name;\n        const value = event.target.value;\n        switch (name) {\n            case \"first\":\n                this.setState({\n                    search: value,\n                    filter: this.state.results.filter(result => result.name.first.toLowerCase().indexOf(value) != -1)\n                });\n                break;\n            case \"last\":\n\n                this.setState({\n                    search: value,\n                    filter: this.state.results.filter(result => result.name.last.toLowerCase().indexOf(value) != -1)\n                });\n                break;\n        }\n        console.log(name);\n\n\n\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        this.ApiCall();\n    };\n    handleSort = event => {\n        function compareAsc(a, b) {\n            if (a.dob.age > b.dob.age) return 1;\n            if (b.dob.age > a.dob.age) return -1;\n        }\n        function compareDesc(a, b) {\n            if (a.dob.age > b.dob.age) return -1;\n            if (b.dob.age > a.dob.age) return 1;\n        }\n\n        if (this.state.sort === \"asc\") {\n            this.setState({\n                filter: this.state.results.sort(compareAsc),\n                sort: \"desc\"\n            });\n        } else {\n            this.setState({\n                filter: this.state.results.sort(compareDesc),\n                sort: \"asc\"\n            });\n        }\n\n    }\n\n    render() {\n        return (\n            <div>\n                <SearchForm\n                    //search = {this.state.search}\n                    //handleFormSubmit = {this.handleFormSubmit}\n                    handleInputChange={this.handleInputChange}\n\n                />\n                <ResultList\n                    buttName={this.state.sort}\n                    results={this.state.filter}\n                    handleSort={this.handleSort}\n                />\n            </div>\n        );\n    }\n}\nexport default SearchResultContainer;"]},"metadata":{},"sourceType":"module"}